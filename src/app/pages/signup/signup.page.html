<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button [routerLink]="['/login']"
        ><ion-icon name="arrow-back-outline"></ion-icon
      ></ion-button>
    </ion-buttons>
    <ion-title class="title">SignUp</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <ion-img class="image" src="assets/images/sammyPlay.png"></ion-img>
  <div class="container">
    <div class="header">
      <p class="subtitle">
        Sign up to reframe your mind and encourage your growth
      </p>
    </div>
    <form [formGroup]="signupForm" novalidate (ngSubmit)="signUp()">
      <div class="ion-padding">
        <ion-item>
          <ion-input formControlName="fullname" placeholder="Name *">
          </ion-input>
          <ion-icon name="person-outline"></ion-icon>
        </ion-item>
        <div
          *ngIf="this.signupForm.controls?.['fullname'].touched &&
        this.signupForm.controls?.['fullname'].invalid"
        >
          <ion-text
            class="error"
            *ngIf="this.errorControl?.['fullname'].errors?.['required']"
          >
            Fullname is required
          </ion-text>
        </div>

        <ion-item>
          <ion-input formControlName="email" placeholder="Email *"> </ion-input>
          <ion-icon name="person-outline"></ion-icon>
        </ion-item>
        <div
          *ngIf="this.signupForm.controls?.['email'].touched &&
        this.signupForm.controls?.['email'].invalid"
        >
          <ion-text
            class="error"
            *ngIf="this.errorControl?.['email'].errors?.['required']"
          >
            Email is required
          </ion-text>
          <ion-text
            class="error"
            *ngIf="this.errorControl?.['email'].errors?.['pattern']"
          >
            Invalid email!
          </ion-text>
        </div>

        <ion-item>
          <ion-input
            formControlName="password"
            placeholder="Password *"
            [type]="this.showPassword? 'text': 'password'"
          >
          </ion-input>
          <ion-icon
            [name]="this.pwIcon"
            (click)="togglePw()"
            class="eyeIcon"
          ></ion-icon>
        </ion-item>
        <div
          *ngIf="this.signupForm.controls?.['password'].touched &&
        this.signupForm.controls?.['password'].invalid"
        >
          <ion-text
            class="error"
            *ngIf="this.errorControl?.['password'].errors?.['required']"
          >
            Password is required
          </ion-text>
          <ion-text
            class="error"
            *ngIf="this.errorControl?.['password'].errors?.['pattern']"
          >
            Password must contain minimum eight characters, and a number
          </ion-text>
        </div>
        <div class="signinlink">
          <p>Already a member? <a [routerLink]="['/login']">Login</a></p>
        </div>
        <div class="btn">
          <ion-button type="submit" [disabled]="signupForm.invalid"
            >Signup</ion-button
          >
        </div>
      </div>
    </form>
  </div>
</ion-content>
